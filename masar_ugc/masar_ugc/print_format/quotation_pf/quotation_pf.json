{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-11-18 03:11:16.765890",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Quotation",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<br><br>\\r\\n{% if doc.custom_left_header %}\\r\\n    {% set left = doc.custom_left_header %}\\r\\n{% else %}\\r\\n    {% set left_result = frappe.db.sql(\\\"SELECT attach FROM `tabHeader` WHERE `defualt`=1 AND `is_enable`=1 AND `left_header`=1\\\") %}\\r\\n    {% set left = left_result[0][0] if left_result else \\\"\\\" %}\\r\\n{% endif %}\\r\\n{% if doc.custom_right_header %}\\r\\n    {% set right = doc.custom_right_header %}\\r\\n{% else %}\\r\\n    {% set right_result = frappe.db.sql(\\\"SELECT attach FROM `tabHeader` WHERE `defualt`=1 AND `is_enable`=1 AND `right_header`=1\\\") %}\\r\\n    {% set right = right_result[0][0] if right_result else \\\"\\\" %}\\r\\n{% endif %}\\r\\n<div style=\\\"display: flex; align-items: center; width: 100%; height: auto; border: none; margin: 0; padding: 0;\\\">\\r\\n    <div style=\\\"flex: 1; display: flex; justify-content: flex-start; align-items: center;\\\">\\r\\n        {% if left %}\\r\\n            <img class=\\\"qr-code\\\" src=\\\"{{ left }}\\\" style=\\\"max-height: 70px; height: auto; width: auto; border: none; margin: 0; padding: 0;\\\">\\r\\n        {% endif %}\\r\\n    </div>\\r\\n    <div class=\\\"print-heading\\\" style=\\\"flex: 1; text-align: center; height: 50px; margin: 0; padding: 0;\\\">\\r\\n        <h2 style=\\\"margin: 0; padding: 0; border: none;\\\">\\r\\n            <div>Quotation</div>\\r\\n        </h2>\\r\\n    </div>\\r\\n    <div style=\\\"flex: 1; display: flex; justify-content: flex-end; align-items: center;\\\">\\r\\n        {% if right %}\\r\\n            <img class=\\\"qr-code\\\" src=\\\"{{ right }}\\\" style=\\\"max-height: 70px; height: auto; width: auto; border: none; margin: 0; padding: 0;\\\">\\r\\n        {% endif %}\\r\\n    </div>\\r\\n</div>\\r\\n<br><br><br>\\r\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<b style=\\\"font-size: 12px;\\\">Company:</b>\\r\\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.party_name if doc.party_name else \\\"&nbsp;\\\" }}\\r\\n<br>\\r\\n<b style=\\\"font-size: 12px;\\\">Address:</b>\\r\\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.custom_address if doc.custom_address else \\\"&nbsp;\\\" }}\\r\\n<br>\\r\\n<b style=\\\"font-size: 12px;\\\">Attention:</b>\\r\\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.custom_attention if doc.custom_attention else \\\"&nbsp;\\\" }}\\r\\n<br>\\r\\n\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div style =\\\"margin-left:50px\\\">\\r\\n    \\r\\n<b style=\\\"font-size: 12px; margin-left: 10px;\\\">Date:</b>\\r\\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), 'dd-MM-yyyy') }}\\r\\n<br><hr style=\\\"margin-top: 0px; margin-bottom: 0px;\\\">\\r\\n\\r\\n<b style=\\\"font-size: 12px; margin-left: 10px;\\\">Quotation No.:</b>\\r\\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.name }}\\r\\n<br><hr style=\\\"margin-top: 0px; margin-bottom: 0px;\\\">\\r\\n\\r\\n<b style=\\\"font-size: 12px; margin-left: 10px;\\\">Valid Till:</b>\\r\\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ frappe.utils.formatdate(doc.get_formatted('valid_till'), 'dd-MM-yyyy') }}\\r\\n<br><hr style=\\\"margin-top: 0px; margin-bottom: 0px;\\\">\\r\\n{% set incoterm_doc = frappe.get_doc(\\\"Incoterm\\\", doc.custom_incoterms) %}\\r\\n<b style=\\\"font-size: 12px; margin-left: 10px;\\\">Incoterm:</b>\\r\\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{incoterm_doc.title}}\\r\\n<br><hr style=\\\"margin-top: 0px; margin-bottom: 0px;\\\">\\r\\n\\r\\n<b style=\\\"font-size: 12px; margin-left: 10px;\\\">Currency:</b>\\r\\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency }}\\r\\n<br><hr style=\\\"margin-top: 0px; margin-bottom: 0px;\\\">\\r\\n</div>\\r\\n\\r\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<br><hr style=\\\"margin-top: 0px; margin-bottom: 10px;\\\">\\n<b style=\\\"font-size: 12px;\\\">Project:</b>\\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.custom_project if doc.custom_project else \\\"&nbsp;\\\" }}\\n<br>\\n<hr style=\\\"margin-top: 10px; margin-bottom: 0px;\\\">\\n<br>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{# Create a namespace to hold grouped results #}\\r\\n{% set ns = namespace(groups = [], current_title = None, current_rows = []) %}\\r\\n\\r\\n{# --------- GROUP ITEMS BY TITLE ---------- #}\\r\\n{% for item in doc.items %}\\r\\n\\r\\n    {% if item.item_code == \\\"Title\\\" and not item.custom_system_entry %}\\r\\n        \\r\\n        {# store previous group if exists #}\\r\\n        {% if ns.current_title and ns.current_rows %}\\r\\n            {% set ns.groups = ns.groups + [{\\\"title\\\": ns.current_title, \\\"rows\\\": ns.current_rows}] %}\\r\\n        {% endif %}\\r\\n\\r\\n        {# start new group #}\\r\\n        {% set ns.current_title = item.description %}\\r\\n        {% set ns.current_rows = [] %}\\r\\n\\r\\n    {% elif not item.custom_system_entry %}\\r\\n        {% if ns.current_title %}\\r\\n            {% set ns.current_rows = ns.current_rows + [item] %}\\r\\n        {% endif %}\\r\\n    {% endif %}\\r\\n\\r\\n{% endfor %}\\r\\n\\r\\n{# store last group #}\\r\\n{% if ns.current_title and ns.current_rows %}\\r\\n    {% set ns.groups = ns.groups + [{\\\"title\\\": ns.current_title, \\\"rows\\\": ns.current_rows}] %}\\r\\n{% endif %}\\r\\n\\r\\n\\r\\n\\r\\n{# --------------------------------------------------------------- #}\\r\\n{# -------- IF NO TITLE FOUND \\u2192 SHOW SIMPLE TABLE INSTEAD -------- #}\\r\\n{# --------------------------------------------------------------- #}\\r\\n\\r\\n{% if ns.groups|length == 0 %}\\r\\n\\r\\n{% set total_no_title = 0 %}\\r\\n<table style=\\\"width: 100%; border-collapse: collapse; font-size: 12px;\\\">\\r\\n  <thead>\\r\\n    <tr>\\r\\n      <th style=\\\"width: 20%\\\">Product</th>\\r\\n      <th style=\\\"width: 18%\\\">Use</th>\\r\\n      <th style=\\\"width: 12%\\\">Color</th>\\r\\n      <th style=\\\"width: 10%\\\">Pack Size</th>\\r\\n      <th style=\\\"width: 10%\\\">DTF</th>\\r\\n      <th style=\\\"width: 10%\\\">{{ doc.custom_coats_or_dft }}</th>\\r\\n      <th style=\\\"width: 10%\\\">Spr. Rate/pack</th>\\r\\n      <th style=\\\"width: 10%\\\">Price/m\\u00b2</th>\\r\\n      <th style=\\\"width: 10%\\\">Price/Pack</th>\\r\\n    </tr>\\r\\n  </thead>\\r\\n  <tbody>\\r\\n\\r\\n    {% for item in doc.items %}\\r\\n      {% set i = frappe.get_doc(\\\"Item\\\", item.item_code) %}\\r\\n      {% set spr = item.custom_spr_rate | float if item.custom_spr_rate else 1 %}\\r\\n      {% if spr == 0 %}\\r\\n        {% set spr = 1 %}\\r\\n    {% endif %}\\r\\n      {% set price_m2 = (item.rate | float) / spr %}\\r\\n      {% set total_no_title = total_no_title + price_m2 %}\\r\\n\\r\\n      <tr style=\\\"border-top: 1px solid #ddd; border-bottom: 1px solid #ddd;\\\">\\r\\n        <td>{{ i.custom_subbrand2_en }}</td>\\r\\n        <td>{{ i.custom_product_use_en }}</td>\\r\\n        <td>{{ item.custom_color }}</td>\\r\\n        <td>{{ item.custom_pack_size }}</td>\\r\\n        <td>{{ item.custom_dft }}</td>\\r\\n        <td>{{ item.custom_no_of_coats }}</td>\\r\\n        <td>{{ item.custom_spr_rate }} m\\u00b2</td>\\r\\n        <td>{{ frappe.utils.fmt_money(price_m2, 2) }}</td>\\r\\n        <td>{{ frappe.utils.fmt_money(item.rate, 2) }}</td>\\r\\n      </tr>\\r\\n    {% endfor %}\\r\\n\\r\\n  </tbody>\\r\\n\\r\\n  <tfoot>\\r\\n    <tr>\\r\\n      <td colspan=\\\"7\\\" style=\\\"text-align: right; font-weight: bold; padding-top: 8px;\\\">\\r\\n        Total Price per m\\u00b2:\\r\\n      </td>\\r\\n      <td colspan=\\\"2\\\" style=\\\"font-weight: bold;\\\">\\r\\n        {{ frappe.utils.fmt_money(total_no_title, 2) }}\\r\\n      </td>\\r\\n    </tr>\\r\\n  </tfoot>\\r\\n\\r\\n</table>\\r\\n\\r\\n{% endif %}\\r\\n\\r\\n\\r\\n\\r\\n{# ------------------------------------------- #}\\r\\n{# ----------- GROUPED MODE OUTPUT ----------- #}\\r\\n{# ------------------------------------------- #}\\r\\n\\r\\n{% if ns.groups|length > 0 %}\\r\\n\\r\\n<style>\\r\\n  .section-title {\\r\\n      font-size: 13px;\\r\\n      font-weight: bold;\\r\\n      margin-top: 18px;\\r\\n      margin-bottom: 8px;\\r\\n      display: block;\\r\\n  }\\r\\n\\r\\n  .item-table {\\r\\n      width: 100%;\\r\\n      border-collapse: collapse;\\r\\n      font-size: 11px;\\r\\n  }\\r\\n\\r\\n  .item-table thead th {\\r\\n      background: #f3f3f3;\\r\\n      font-weight: bold;\\r\\n      padding: 6px 4px;\\r\\n      border: 1px solid #ccc;\\r\\n      text-align: left;\\r\\n  }\\r\\n\\r\\n  .item-table tbody td {\\r\\n      padding: 6px 4px;\\r\\n      border: 1px solid #ddd;\\r\\n  }\\r\\n\\r\\n  .item-table tfoot td {\\r\\n      padding: 8px 4px;\\r\\n      font-weight: bold;\\r\\n      background: #fafafa;\\r\\n      border-top: 2px solid #777;\\r\\n  }\\r\\n</style>\\r\\n\\r\\n{% for g in ns.groups %}\\r\\n\\r\\n<span class=\\\"section-title\\\">{{ g.title }}</span>\\r\\n\\r\\n<table class=\\\"item-table\\\">\\r\\n  <thead>\\r\\n    <tr>\\r\\n      <th style=\\\"width: 18%\\\">Product</th>\\r\\n      <th style=\\\"width: 16%\\\">Use</th>\\r\\n      <th style=\\\"width: 12%\\\">Color</th>\\r\\n      <th style=\\\"width: 8%\\\">{{ doc.custom_coats_or_dft }}</th>\\r\\n      <th style=\\\"width: 10%\\\">Pack Size</th>\\r\\n      <th style=\\\"width: 12%\\\">Spr. Rate/pack</th>\\r\\n      <th style=\\\"width: 12%\\\">Price/m\\u00b2</th>\\r\\n      <th style=\\\"width: 12%\\\">Price/Pack</th>\\r\\n    </tr>\\r\\n  </thead>\\r\\n\\r\\n  <tbody>\\r\\n\\r\\n    {% set total = namespace(m2 = 0) %}\\r\\n\\r\\n    {% for item in g.rows %}\\r\\n      {% set i = frappe.get_doc(\\\"Item\\\", item.item_code) %}\\r\\n      {% set spr = item.custom_spr_rate | float if item.custom_spr_rate else 1 %}\\r\\n      {% if spr == 0 %}\\r\\n    {% set spr = 1 %}\\r\\n{% endif %}\\r\\n      {% set price_per_m2 = (item.rate | float) / spr %}\\r\\n      {% set total.m2 = total.m2 + price_per_m2 %}\\r\\n\\r\\n      <tr>\\r\\n        <td>{{ i.custom_subbrand2_en }}</td>\\r\\n        <td>{{ i.custom_product_use_en }}</td>\\r\\n        <td>{{ item.custom_color }}</td>\\r\\n        <td>{{ item.custom_no_of_coats }}</td>\\r\\n        <td>{{ item.custom_pack_size }}</td>\\r\\n        <td>{{ item.custom_spr_rate }} m\\u00b2</td>\\r\\n        <td>{{ frappe.utils.fmt_money(price_per_m2, 2) }}</td>\\r\\n        <td>{{ frappe.utils.fmt_money(item.rate, 2) }}</td>\\r\\n      </tr>\\r\\n    {% endfor %}\\r\\n\\r\\n  </tbody>\\r\\n\\r\\n  <tfoot>\\r\\n    <tr>\\r\\n      <td colspan=\\\"6\\\" style=\\\"text-align: right;\\\">Total Price per m\\u00b2:</td>\\r\\n      <td colspan=\\\"2\\\">{{ frappe.utils.fmt_money(total.m2, 2) }}</td>\\r\\n    </tr>\\r\\n  </tfoot>\\r\\n\\r\\n</table>\\r\\n\\r\\n{% endfor %}\\r\\n\\r\\n{% endif %}\\r\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"<u>Terms and Conditions</u><br>\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<p = style = \\\"font-size:12px\\\"><u><br><br><b>Terms and Conditions</u></b><br></p>\"}, {\"fieldname\": \"terms\", \"print_hide\": 0, \"label\": \"Term Details\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<br><br>Kind Regards<br><br>\\r\\n{{ frappe.db.get_value(\\\"User\\\", frappe.session.user, 'full_name') }}\\r\\n<br>\\r\\n{{ frappe.db.get_value(\\\"User\\\", frappe.session.user, 'email') }}\\r\\n<br>\\r\\n{{ frappe.db.get_value(\\\"Employee\\\", {\\\"prefered_email\\\": frappe.db.get_value(\\\"User\\\", frappe.session.user, 'email')}, \\\"cell_number\\\") }}\\r\\n\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-11-30 17:37:21.457830",
 "modified_by": "Administrator",
 "module": "Masar UGC",
 "name": "Quotation PF",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}